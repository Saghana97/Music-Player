{"ast":null,"code":"import _classCallCheck from \"/home/saghana/Desktop/musicalbum/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/saghana/Desktop/musicalbum/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/saghana/Desktop/musicalbum/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/saghana/Desktop/musicalbum/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/saghana/Desktop/musicalbum/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/saghana/Desktop/musicalbum/src/components/Album/Album.js\";\nimport React, { Component } from \"react\";\nimport \"./Album.css\";\nimport data from \"../../helpers/data\";\nimport AlbumDetail from \"../AlbumDetail/AlbumDetail\";\nimport { Dialog } from \"@material-ui/core\";\nimport QueueSong from \"../QueueSong/QueueSong\";\nimport AlbumContent from \"../AlbumContent/AlbumContent\";\nimport AudioPlayer from \"../AudioPlayer/AudioPlayer\"; //storing the file in a base 64 format\n\nvar getBase64 = function getBase64(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      return resolve(reader.result);\n    };\n\n    reader.onerror = function (error) {\n      return reject(error);\n    };\n\n    reader.readAsDataURL(file);\n  });\n}; //component album for the player\n\n\nvar Album =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Album, _Component);\n\n  function Album(props) {\n    var _this;\n\n    _classCallCheck(this, Album);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Album).call(this, props));\n\n    _this.getDetail = function (e, index, songs) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      _this.setState({\n        modalOpen: true,\n        currentAlbumIndex: index,\n        currentSongList: songs\n      });\n    };\n\n    _this.handleSecondClose = function () {\n      _this.setState({\n        modalOpen: false\n      });\n    };\n\n    _this.addAlbum = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.getName = function (e) {\n      _this.setState({\n        album_text: e.target.value\n      });\n    };\n\n    _this.addToData = function () {\n      if (_this.state.album_text.length != 0 && _this.state.album_image) {\n        data.push({\n          album_name: _this.state.album_text,\n          album_image: _this.state.album_image,\n          songs: []\n        });\n\n        _this.setState({\n          album_text: \"\",\n          album_image: \"\"\n        });\n\n        _this.setState({\n          open: false\n        });\n      } else {\n        alert(\"cannot add\");\n      }\n    };\n\n    _this.getFile = function (e) {\n      var file = e.target.files[0];\n      getBase64(file).then(function (base64) {\n        _this.setState({\n          album_image: base64\n        });\n      });\n    };\n\n    _this.addEditData = function (e) {\n      console.log(\"all data\", _this.state.data);\n      console.log(\"state before edit\", data[_this.state.editIndex].album_image, data[_this.state.editIndex].album_name);\n\n      _this.setState({\n        previousAlbumName: data[_this.state.editIndex].album_name,\n        previousAlbumImage: data[_this.state.editIndex].album_image\n      });\n\n      if (_this.state.album_text) {\n        data[_this.state.editIndex].album_name = _this.state.album_text;\n      }\n\n      if (_this.state.album_image) {\n        data[_this.state.editIndex].album_image = _this.state.album_image;\n      }\n\n      _this.setState({\n        album_text: \"\",\n        album_image: \"\"\n      });\n\n      var temp = _this.state.cover_image;\n\n      for (var i = 0; i < temp.length; i++) {\n        if (_this.state.previousAlbumImage === temp[i]) {\n          temp[i] = _this.state.album_image;\n        }\n      }\n\n      _this.setState({\n        cover_image: temp\n      });\n\n      _this.setState({\n        editStatus: false\n      });\n\n      console.log(\"aftr  --all data\", _this.state.data);\n    };\n\n    _this.deleteAlbum = function (e, index) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.state.data.splice(index, 1);\n\n      _this.setState({\n        data: _this.state.data\n      });\n    };\n\n    _this.editAlbum = function (e, index) {\n      e.preventDefault();\n      e.stopPropagation();\n      console.log(index, \"index\");\n\n      _this.setState({\n        editIndex: index\n      });\n\n      _this.setState({\n        editStatus: true\n      }); //this.setState({ editIndex: index });\n\n    };\n\n    _this.handleEditClose = function () {\n      _this.setState({\n        editStatus: false\n      });\n    };\n\n    _this.clearQueue = function () {\n      _this.setState({\n        playSongIndex: \"\",\n        currentSong: \"\",\n        queue: [],\n        queue_name: [],\n        artist_name: []\n      });\n    };\n\n    _this.songClick = function (e, index) {\n      e.preventDefault();\n      e.stopPropagation();\n      console.log(index, \"index\");\n\n      _this.setState({\n        playSongIndex: index\n      });\n\n      _this.setState({\n        currentSong: _this.state.queue[index]\n      });\n    };\n\n    _this.playNext = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var nextId = _this.state.playSongIndex + 1;\n\n      if (nextId < _this.state.queue.length) {\n        _this.setState({\n          playSongIndex: nextId\n        });\n\n        _this.setState({\n          currentSong: _this.state.queue[nextId]\n        });\n      }\n    };\n\n    _this.playPrevious = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var previousId = _this.state.playSongIndex - 1;\n\n      if (previousId >= 0) {\n        _this.setState({\n          playSongIndex: previousId\n        });\n\n        _this.setState({\n          currentSong: _this.state.queue[previousId]\n        });\n      }\n    };\n\n    _this.loopSong = function (e) {\n      _this.setState({\n        loop: !_this.state.loop\n      });\n    };\n\n    _this.addAllToQueue = function () {\n      var _this$state = _this.state,\n          data = _this$state.data,\n          queue = _this$state.queue,\n          queue_name = _this$state.queue_name,\n          artist_name = _this$state.artist_name,\n          cover_image = _this$state.cover_image;\n\n      for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].songs.length; j++) {\n          if (data[i].songs[j].song) {\n            queue.push(data[i].songs[j].song);\n            queue_name.push(data[i].songs[j].song_name);\n            artist_name.push(data[i].songs[j].artist_name);\n            cover_image.push(data[i].album_image);\n          }\n        }\n      }\n\n      _this.setState({\n        open: true\n      });\n\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.state = {\n      open: false,\n      album_text: \"\",\n      album_image: \"\",\n      queue: [],\n      queue_name: [],\n      artist_name: [],\n      data: data,\n      callComponent: false,\n      modalOpen: false,\n      currentAlbumIndex: null,\n      currentSongList: [],\n      playSongIndex: null,\n      render: false,\n      currentSong: \"\",\n      loop: false,\n      cover_image: [],\n      editStatus: false,\n      editIndex: \"\",\n      previousAlbumName: \"\",\n      previousAlbumImage: \"\"\n    };\n    return _this;\n  } //getting the details of the album\n\n\n  _createClass(Album, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps() {\n      console.log(\" will receieve\");\n    }\n  }, {\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate() {\n      console.log(\"update\");\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      console.log(\"did\");\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      console.log(\"data\");\n    } //function to delete the album\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"album-wrapper Maindiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Contentdiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, \" Your Albums \")), React.createElement(\"div\", {\n        className: \"add-album\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"add\",\n        onClick: this.addAlbum,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \" \", \"Add new album\", \" \"), React.createElement(\"button\", {\n        className: \"add\",\n        onClick: this.addAllToQueue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Add all to queue\")), React.createElement(Dialog, {\n        open: this.state.open,\n        onClose: this.handleClose,\n        className: \"form-dialog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"album_name\",\n        className: \"input\",\n        placeholder: \"Album Name\",\n        onChange: this.getName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \" Upload a cover image\"), React.createElement(\"input\", {\n        type: \"file\",\n        name: \"pic\",\n        accept: \"image/*\",\n        className: \"input-file\",\n        onChange: this.getFile,\n        id: \"picture\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"add-album-button\",\n        onClick: this.addToData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \" \", \"Add\", \" \")))), React.createElement(Dialog, {\n        open: this.state.editStatus,\n        onClose: this.handleEditClose,\n        className: \"form-dialog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"album_name\",\n        className: \"input\",\n        placeholder: \"Album Name\",\n        onChange: this.getName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, \" Upload a cover image\"), React.createElement(\"input\", {\n        type: \"file\",\n        name: \"pic\",\n        accept: \"image/*\",\n        className: \"input-file\",\n        onChange: this.getFile,\n        id: \"picture\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"add-album-button\",\n        onClick: function onClick(e) {\n          return _this2.addEditData(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, \" \", \"Add\", \" \")))), React.createElement(\"div\", {\n        className: \"album-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, this.state.data && this.state.data.length > 0 && this.state.data.map(function (datum, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 313\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"album-detail-wrapper\",\n          onClick: function onClick(e) {\n            return _this2.getDetail(e, index, datum.songs);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"album-image\",\n          style: {\n            backgroundImage: \"url(\" + datum.album_image + \")\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"album-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324\n          },\n          __self: this\n        }, \" \", datum.album_name, \" \"), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 325\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            return _this2.deleteAlbum(e, index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326\n          },\n          __self: this\n        }, \" \", \"Delete\", \" \"), React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            return _this2.editAlbum(e, index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330\n          },\n          __self: this\n        }, \" \", \"Edit\")));\n      }), React.createElement(Dialog, {\n        open: this.state.modalOpen,\n        onClose: this.handleSecondClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, React.createElement(AlbumContent, {\n        albumIndex: this.state.currentAlbumIndex,\n        songs: this.state.currentSongList,\n        data: this.state.data,\n        queue: this.state.queue,\n        contentModal: this.state.modalOpen,\n        queueSongName: this.state.queue_name,\n        artistName: this.state.artist_name,\n        coverImage: this.state.cover_image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"Queuediv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"playListSongs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, \" Your Playlist \"), React.createElement(\"button\", {\n        onClick: this.clearQueue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, \" Clear Queue \"), this.state.data && this.state.queue_name && this.state.queue_name.map(function (song, index) {\n        return React.createElement(\"div\", {\n          className: \"song-list\",\n          onClick: function onClick(e) {\n            return _this2.songClick(e, index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362\n          },\n          __self: this\n        }, React.createElement(QueueSong, {\n          name: song,\n          id: index,\n          artist_name: _this2.state.artist_name[index],\n          playSong: _this2.state.queue[index],\n          allSongs: _this2.state.queue,\n          allSongsName: _this2.state.queue_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366\n          },\n          __self: this\n        }));\n      })), React.createElement(\"div\", {\n        className: \"audio-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.cover_image[this.state.playSongIndex],\n        alt: \"\",\n        className: \"cover-image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }, this.state.queue_name[this.state.playSongIndex]), React.createElement(\"i\", {\n        className: this.state.loop ? \"fas fa-retweet active\" : \"fas fa-retweet\",\n        onClick: function onClick(e) {\n          return _this2.loopSong(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        className: \"fas fa-backward\",\n        onClick: function onClick(e) {\n          return _this2.playPrevious(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }), React.createElement(\"audio\", {\n        id: \"player\",\n        controls: true,\n        autoPlay: true,\n        preload: \"auto\",\n        key: this.state.currentSong,\n        src: this.state.currentSong ? this.state.currentSong : this.state.queue,\n        loop: this.state.loop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }, React.createElement(\"source\", {\n        id: \"source\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      })), React.createElement(\"i\", {\n        class: \"fas fa-forward\",\n        onClick: function onClick(e) {\n          return _this2.playNext(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Album;\n}(Component);\n\nexport default Album;","map":{"version":3,"sources":["/home/saghana/Desktop/musicalbum/src/components/Album/Album.js"],"names":["React","Component","data","AlbumDetail","Dialog","QueueSong","AlbumContent","AudioPlayer","getBase64","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","error","readAsDataURL","Album","props","getDetail","e","index","songs","stopPropagation","preventDefault","setState","modalOpen","currentAlbumIndex","currentSongList","handleSecondClose","addAlbum","open","handleClose","getName","album_text","target","value","addToData","state","length","album_image","push","album_name","alert","getFile","files","then","base64","addEditData","console","log","editIndex","previousAlbumName","previousAlbumImage","temp","cover_image","i","editStatus","deleteAlbum","splice","editAlbum","handleEditClose","clearQueue","playSongIndex","currentSong","queue","queue_name","artist_name","songClick","playNext","nextId","playPrevious","previousId","loopSong","loop","addAllToQueue","j","song","song_name","callComponent","render","map","datum","backgroundImage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Album.css\";\nimport data from \"../../helpers/data\";\nimport AlbumDetail from \"../AlbumDetail/AlbumDetail\";\nimport { Dialog } from \"@material-ui/core\";\nimport QueueSong from \"../QueueSong/QueueSong\";\nimport AlbumContent from \"../AlbumContent/AlbumContent\";\nimport AudioPlayer from \"../AudioPlayer/AudioPlayer\";\n//storing the file in a base 64 format\nconst getBase64 = file => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n    reader.readAsDataURL(file);\n  });\n};\n\n//component album for the player\nclass Album extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      album_text: \"\",\n      album_image: \"\",\n      queue: [],\n      queue_name: [],\n      artist_name: [],\n      data: data,\n      callComponent: false,\n      modalOpen: false,\n      currentAlbumIndex: null,\n      currentSongList: [],\n      playSongIndex: null,\n      render: false,\n      currentSong: \"\",\n      loop: false,\n      cover_image: [],\n      editStatus: false,\n      editIndex: \"\",\n      previousAlbumName: \"\",\n      previousAlbumImage: \"\"\n    };\n  }\n  //getting the details of the album\n  getDetail = (e, index, songs) => {\n    e.stopPropagation();\n    e.preventDefault();\n    this.setState({\n      modalOpen: true,\n      currentAlbumIndex: index,\n      currentSongList: songs\n    });\n  };\n\n  handleSecondClose = () => {\n    this.setState({ modalOpen: false });\n  };\n  //setting state for the album\n  addAlbum = () => {\n    this.setState({ open: true });\n  };\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n  //getting the name of the album\n  getName = e => {\n    this.setState({ album_text: e.target.value });\n  };\n  //function to add the data to the album content\n  addToData = () => {\n    if (this.state.album_text.length != 0 && this.state.album_image) {\n      data.push({\n        album_name: this.state.album_text,\n        album_image: this.state.album_image,\n        songs: []\n      });\n      this.setState({ album_text: \"\", album_image: \"\" });\n      this.setState({ open: false });\n    } else {\n      alert(\"cannot add\");\n    }\n  };\n\n  //get the file and store it in a base 64 format\n  getFile = e => {\n    const file = e.target.files[0];\n    getBase64(file).then(base64 => {\n      this.setState({ album_image: base64 });\n    });\n  };\n\n  addEditData = e => {\n    console.log(\"all data\",this.state.data)\n    console.log(\n      \"state before edit\",\n      data[this.state.editIndex].album_image,\n      data[this.state.editIndex].album_name\n    );\n\n    this.setState({\n      previousAlbumName: data[this.state.editIndex].album_name,\n      previousAlbumImage: data[this.state.editIndex].album_image\n    });\n\n    if (this.state.album_text) {\n      data[this.state.editIndex].album_name = this.state.album_text;\n    }\n    if (this.state.album_image) {\n      data[this.state.editIndex].album_image = this.state.album_image;\n    }\n    this.setState({\n      album_text: \"\",\n      album_image: \"\"\n    });\n    var temp = this.state.cover_image;\n\n    for (var i = 0; i < temp.length; i++) {\n      if (this.state.previousAlbumImage === temp[i]) {\n        temp[i] = this.state.album_image;\n      }\n    }\n    this.setState({ cover_image: temp });\n    this.setState({ editStatus: false });\n\n    console.log(\"aftr  --all data\",this.state.data)\n  };\n\n  componentWillReceiveProps() {\n    console.log(\" will receieve\");\n  }\n\n  componentWillUpdate() {\n    console.log(\"update\");\n  }\n\n  componentDidUpdate() {\n    console.log(\"did\");\n  }\n\n  componentWillMount() {\n    console.log(\"data\");\n  }\n  //function to delete the album\n  deleteAlbum = (e, index) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.state.data.splice(index, 1);\n    this.setState({\n      data: this.state.data\n    });\n  };\n\n  //function\n  editAlbum = (e, index) => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(index, \"index\");\n    this.setState({ editIndex: index });\n    this.setState({ editStatus: true });\n    //this.setState({ editIndex: index });\n  };\n\n  handleEditClose = () => {\n    this.setState({ editStatus: false });\n  };\n\n  clearQueue = () => {\n    this.setState({\n      playSongIndex: \"\",\n      currentSong: \"\",\n      queue: [],\n      queue_name: [],\n      artist_name: []\n    });\n  };\n\n  songClick = (e, index) => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(index, \"index\");\n    this.setState({ playSongIndex: index });\n    this.setState({ currentSong: this.state.queue[index] });\n  };\n\n  playNext = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    let nextId = this.state.playSongIndex + 1;\n    if (nextId < this.state.queue.length) {\n      this.setState({ playSongIndex: nextId });\n      this.setState({ currentSong: this.state.queue[nextId] });\n    }\n  };\n\n  playPrevious = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    let previousId = this.state.playSongIndex - 1;\n    if (previousId >= 0) {\n      this.setState({ playSongIndex: previousId });\n      this.setState({ currentSong: this.state.queue[previousId] });\n    }\n  };\n\n  loopSong = e => {\n    this.setState({ loop: !this.state.loop });\n  };\n  //add all the songs to the queue\n  addAllToQueue = () => {\n    const { data, queue, queue_name, artist_name, cover_image } = this.state;\n    for (var i = 0; i < data.length; i++) {\n      for (var j = 0; j < data[i].songs.length; j++) {\n        if (data[i].songs[j].song) {\n          queue.push(data[i].songs[j].song);\n          queue_name.push(data[i].songs[j].song_name);\n          artist_name.push(data[i].songs[j].artist_name);\n          cover_image.push(data[i].album_image);\n        }\n      }\n    }\n    this.setState({ open: true });\n    this.setState({ open: false });\n  };\n\n  render() {\n    return (\n      <div className=\"album-wrapper Maindiv\">\n        <div className=\"Contentdiv\">\n          <div className=\"heading\">\n            <p> Your Albums </p>\n          </div>\n          <div className=\"add-album\">\n            <button className=\"add\" onClick={this.addAlbum}>\n              {\" \"}\n              Add new album{\" \"}\n            </button>\n            <button className=\"add\" onClick={this.addAllToQueue}>\n              Add all to queue\n            </button>\n          </div>\n          <Dialog\n            open={this.state.open}\n            onClose={this.handleClose}\n            className=\"form-dialog\"\n          >\n            <div className=\"form\">\n              <input\n                type=\"text\"\n                id=\"album_name\"\n                className=\"input\"\n                placeholder=\"Album Name\"\n                onChange={this.getName}\n              />{\" \"}\n              <br />\n              <p> Upload a cover image</p>\n              <input\n                type=\"file\"\n                name=\"pic\"\n                accept=\"image/*\"\n                className=\"input-file\"\n                onChange={this.getFile}\n                id=\"picture\"\n              />\n              <div className=\"button\">\n                <button className=\"add-album-button\" onClick={this.addToData}>\n                  {\" \"}\n                  Add{\" \"}\n                </button>\n              </div>\n            </div>\n          </Dialog>\n          <Dialog\n            open={this.state.editStatus}\n            onClose={this.handleEditClose}\n            className=\"form-dialog\"\n          >\n            <div className=\"form\">\n              <input\n                type=\"text\"\n                id=\"album_name\"\n                className=\"input\"\n                placeholder=\"Album Name\"\n                onChange={this.getName}\n              />{\" \"}\n              <br />\n              <p> Upload a cover image</p>\n              <input\n                type=\"file\"\n                name=\"pic\"\n                accept=\"image/*\"\n                className=\"input-file\"\n                onChange={this.getFile}\n                id=\"picture\"\n              />\n              <div className=\"button\">\n                <button\n                  className=\"add-album-button\"\n                  onClick={e => this.addEditData(e)}\n                >\n                  {\" \"}\n                  Add{\" \"}\n                </button>\n              </div>\n            </div>\n          </Dialog>\n\n          <div className=\"album-container\">\n            {this.state.data &&\n              this.state.data.length > 0 &&\n              this.state.data.map((datum, index) => (\n                <div key={index}>\n                  <div\n                    className=\"album-detail-wrapper\"\n                    onClick={e => this.getDetail(e, index, datum.songs)}\n                  >\n                    <div\n                      className=\"album-image\"\n                      style={{\n                        backgroundImage: \"url(\" + datum.album_image + \")\"\n                      }}\n                    />\n                    <div className=\"album-name\"> {datum.album_name} </div>\n                    <div />\n                    <button onClick={e => this.deleteAlbum(e, index)}>\n                      {\" \"}\n                      Delete{\" \"}\n                    </button>\n                    <button onClick={e => this.editAlbum(e, index)}>\n                      {\" \"}\n                      Edit\n                    </button>\n                  </div>\n                </div>\n              ))}\n            <Dialog\n              open={this.state.modalOpen}\n              onClose={this.handleSecondClose}\n            >\n              <div className=\"content\">\n                <AlbumContent\n                  albumIndex={this.state.currentAlbumIndex}\n                  songs={this.state.currentSongList}\n                  data={this.state.data}\n                  queue={this.state.queue}\n                  contentModal={this.state.modalOpen}\n                  queueSongName={this.state.queue_name}\n                  artistName={this.state.artist_name}\n                  coverImage={this.state.cover_image}\n                />\n              </div>\n            </Dialog>\n          </div>\n        </div>\n        <div className=\"Queuediv\">\n          <p className=\"playListSongs\"> Your Playlist </p>\n          <button onClick={this.clearQueue}> Clear Queue </button>\n          {this.state.data &&\n            this.state.queue_name &&\n            this.state.queue_name.map((song, index) => (\n              <div\n                className=\"song-list\"\n                onClick={e => this.songClick(e, index)}\n              >\n                <QueueSong\n                  name={song}\n                  id={index}\n                  artist_name={this.state.artist_name[index]}\n                  playSong={this.state.queue[index]}\n                  allSongs={this.state.queue}\n                  allSongsName={this.state.queue_name}\n                />\n              </div>\n            ))}\n        </div>\n        <div className=\"audio-wrapper\">\n          <img\n            src={this.state.cover_image[this.state.playSongIndex]}\n            alt=\"\"\n            className=\"cover-image\"\n          />\n          <p>{this.state.queue_name[this.state.playSongIndex]}</p>\n          <i\n            className={\n              this.state.loop ? \"fas fa-retweet active\" : \"fas fa-retweet\"\n            }\n            onClick={e => this.loopSong(e)}\n          />\n          <i className=\"fas fa-backward\" onClick={e => this.playPrevious(e)} />\n          <audio\n            id=\"player\"\n            controls\n            autoPlay\n            preload=\"auto\"\n            key={this.state.currentSong}\n            src={\n              this.state.currentSong ? this.state.currentSong : this.state.queue\n            }\n            loop={this.state.loop}\n          >\n            <source id=\"source\" />\n          </audio>\n          <i class=\"fas fa-forward\" onClick={e => this.playNext(e)} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Album;\n"]},"metadata":{},"sourceType":"module"}