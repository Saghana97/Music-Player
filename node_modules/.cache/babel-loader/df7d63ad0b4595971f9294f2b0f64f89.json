{"ast":null,"code":"import _classCallCheck from \"/home/saghana/Desktop/musicalbum/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/saghana/Desktop/musicalbum/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/saghana/Desktop/musicalbum/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/saghana/Desktop/musicalbum/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/saghana/Desktop/musicalbum/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/saghana/Desktop/musicalbum/src/components/Album/Album.js\";\nimport React, { Component } from \"react\";\nimport \"./Album.css\";\nimport data from \"../../helpers/data\";\nimport AlbumDetail from \"../AlbumDetail/AlbumDetail\";\nimport { Dialog } from \"@material-ui/core\";\nimport QueueSong from \"../QueueSong/QueueSong\";\nimport AlbumContent from \"../AlbumContent/AlbumContent\";\nimport AudioPlayer from \"../AudioPlayer/AudioPlayer\"; //storing the file in a base 64 format\n\nvar getBase64 = function getBase64(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      return resolve(reader.result);\n    };\n\n    reader.onerror = function (error) {\n      return reject(error);\n    };\n\n    reader.readAsDataURL(file);\n  });\n}; //component album for the player\n\n\nvar Album =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Album, _Component);\n\n  function Album(props) {\n    var _this;\n\n    _classCallCheck(this, Album);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Album).call(this, props));\n\n    _this.getDetail = function (e, index, songs) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      _this.setState({\n        modalOpen: true,\n        currentAlbumIndex: index,\n        currentSongList: songs\n      });\n    };\n\n    _this.handleSecondClose = function () {\n      _this.setState({\n        modalOpen: false\n      });\n    };\n\n    _this.addAlbum = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.getName = function (e) {\n      _this.setState({\n        album_text: e.target.value\n      });\n    };\n\n    _this.addToData = function () {\n      if (_this.state.album_text.length != 0 && _this.state.album_image) {\n        data.push({\n          album_name: _this.state.album_text,\n          album_image: _this.state.album_image,\n          songs: []\n        });\n\n        _this.setState({\n          album_text: \"\",\n          album_image: \"\"\n        });\n\n        _this.setState({\n          open: false\n        });\n      } else {\n        alert(\"cannot add\");\n      }\n    };\n\n    _this.getFile = function (e) {\n      var file = e.target.files[0];\n      getBase64(file).then(function (base64) {\n        _this.setState({\n          album_image: base64\n        });\n      });\n    };\n\n    _this.deleteAlbum = function (e, index) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.state.data.splice(index, 1);\n\n      _this.setState({\n        data: _this.state.data\n      });\n    };\n\n    _this.songClick = function (e, index) {\n      e.preventDefault();\n      e.stopPropagation();\n      console.log(index, \"index\");\n\n      _this.setState({\n        playSongIndex: index\n      });\n\n      _this.setState({\n        currentSong: _this.state.queue[index]\n      });\n    };\n\n    _this.playNext = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var previousId = _this.state.playSongIndex - 1;\n\n      _this.setState({\n        playSongIndex: previousId\n      });\n\n      _this.setState({\n        currentSong: _this.state.queue[previousId]\n      });\n    };\n\n    _this.playPrevious = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var nextId = _this.state.playSongIndex + 1;\n\n      _this.setState({\n        playSongIndex: nextId\n      });\n\n      _this.setState({\n        currentSong: _this.state.queue[nextId]\n      });\n    };\n\n    _this.addAllToQueue = function () {\n      var _this$state = _this.state,\n          data = _this$state.data,\n          queue = _this$state.queue,\n          queue_name = _this$state.queue_name,\n          artist_name = _this$state.artist_name;\n\n      for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].songs.length; j++) {\n          if (data[i].songs[j].song) {\n            queue.push(data[i].songs[j].song);\n            queue_name.push(data[i].songs[j].song_name);\n            artist_name.push(data[i].songs[j].artist_name);\n          }\n        }\n      }\n\n      _this.setState({\n        open: true\n      });\n\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.state = {\n      open: false,\n      album_text: \"\",\n      album_image: \"\",\n      queue: [],\n      queue_name: [],\n      artist_name: [],\n      data: data,\n      callComponent: false,\n      modalOpen: false,\n      currentAlbumIndex: null,\n      currentSongList: [],\n      playSongIndex: null,\n      render: false,\n      currentSong: \"\"\n    };\n    return _this;\n  } //getting the details of the album\n\n\n  _createClass(Album, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps() {\n      console.log(\" will receieve\");\n    }\n  }, {\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate() {\n      console.log(\"update\");\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      console.log(\"did\");\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      console.log(\"data\");\n    } //function to delete the album\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"album-wrapper Maindiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Contentdiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \" Your Albums \")), React.createElement(\"div\", {\n        className: \"add-album\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"add\",\n        onClick: this.addAlbum,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \" \", \"Add new album\", \" \"), React.createElement(\"button\", {\n        className: \"add\",\n        onClick: this.addAllToQueue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Add all to queue\")), React.createElement(Dialog, {\n        open: this.state.open,\n        onClose: this.handleClose,\n        className: \"form-dialog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"album_name\",\n        className: \"input\",\n        placeholder: \"Album Name\",\n        onChange: this.getName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \" Upload a cover image\"), React.createElement(\"input\", {\n        type: \"file\",\n        name: \"pic\",\n        accept: \"image/*\",\n        className: \"input-file\",\n        onChange: this.getFile,\n        id: \"picture\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"add-album-button\",\n        onClick: this.addToData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \" \", \"Add\", \" \")))), React.createElement(\"div\", {\n        className: \"album-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, this.state.data && this.state.data.length > 0 && this.state.data.map(function (datum, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"album-detail-wrapper\",\n          onClick: function onClick(e) {\n            return _this2.getDetail(e, index, datum.songs);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"album-image\",\n          style: {\n            backgroundImage: \"url(\" + datum.album_image + \")\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"album-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, \" \", datum.album_name, \" \"), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            return _this2.deleteAlbum(e, index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, \" \", \"Delete\", \" \")));\n      }), React.createElement(Dialog, {\n        open: this.state.modalOpen,\n        onClose: this.handleSecondClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(AlbumContent, {\n        albumIndex: this.state.currentAlbumIndex,\n        songs: this.state.currentSongList,\n        data: this.state.data,\n        queue: this.state.queue,\n        contentModal: this.state.modalOpen,\n        queueSongName: this.state.queue_name,\n        artistName: this.state.artist_name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"Queuediv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"playListSongs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, \" Your Playlist \"), this.state.data && this.state.queue_name.map(function (song, index) {\n        return React.createElement(\"div\", {\n          className: \"song-list\",\n          onClick: function onClick(e) {\n            return _this2.songClick(e, index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, React.createElement(QueueSong, {\n          name: song,\n          id: index,\n          artist_name: _this2.state.artist_name[index],\n          playSong: _this2.state.queue[index],\n          allSongs: _this2.state.queue,\n          allSongsName: _this2.state.queue_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }));\n      })), React.createElement(\"div\", {\n        className: \"audio-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, this.state.queue_name[this.state.playSongIndex]), React.createElement(\"i\", {\n        class: \"fas fa-backward\",\n        onClick: function onClick(e) {\n          return _this2.playPrevious(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }), React.createElement(\"audio\", {\n        id: \"player\",\n        controls: true,\n        autoPlay: true,\n        preload: \"auto\",\n        key: this.state.currentSong,\n        src: this.state.currentSong,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"source\", {\n        id: \"source\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      })), React.createElement(\"i\", {\n        class: \"fas fa-forward\",\n        onClick: function onClick(e) {\n          return _this2.playNext(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Album;\n}(Component);\n\nexport default Album;","map":{"version":3,"sources":["/home/saghana/Desktop/musicalbum/src/components/Album/Album.js"],"names":["React","Component","data","AlbumDetail","Dialog","QueueSong","AlbumContent","AudioPlayer","getBase64","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","error","readAsDataURL","Album","props","getDetail","e","index","songs","stopPropagation","preventDefault","setState","modalOpen","currentAlbumIndex","currentSongList","handleSecondClose","addAlbum","open","handleClose","getName","album_text","target","value","addToData","state","length","album_image","push","album_name","alert","getFile","files","then","base64","deleteAlbum","splice","songClick","console","log","playSongIndex","currentSong","queue","playNext","previousId","playPrevious","nextId","addAllToQueue","queue_name","artist_name","i","j","song","song_name","callComponent","render","map","datum","backgroundImage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Album.css\";\nimport data from \"../../helpers/data\";\nimport AlbumDetail from \"../AlbumDetail/AlbumDetail\";\nimport { Dialog } from \"@material-ui/core\";\nimport QueueSong from \"../QueueSong/QueueSong\";\nimport AlbumContent from \"../AlbumContent/AlbumContent\";\nimport AudioPlayer from \"../AudioPlayer/AudioPlayer\";\n//storing the file in a base 64 format\nconst getBase64 = file => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n    reader.readAsDataURL(file);\n  });\n};\n\n//component album for the player\nclass Album extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      album_text: \"\",\n      album_image: \"\",\n      queue: [],\n      queue_name: [],\n      artist_name: [],\n      data: data,\n      callComponent: false,\n      modalOpen: false,\n      currentAlbumIndex: null,\n      currentSongList: [],\n      playSongIndex: null,\n      render: false,\n      currentSong: \"\"\n    };\n  }\n  //getting the details of the album\n  getDetail = (e, index, songs) => {\n    e.stopPropagation();\n    e.preventDefault();\n    this.setState({\n      modalOpen: true,\n      currentAlbumIndex: index,\n      currentSongList: songs\n    });\n  };\n\n  handleSecondClose = () => {\n    this.setState({ modalOpen: false });\n  };\n  //setting state for the album\n  addAlbum = () => {\n    this.setState({ open: true });\n  };\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n  //getting the name of the album\n  getName = e => {\n    this.setState({ album_text: e.target.value });\n  };\n  //function to add the data to the album content\n  addToData = () => {\n    if(this.state.album_text.length!=0 && this.state.album_image){\n    data.push({\n      album_name: this.state.album_text,\n      album_image: this.state.album_image,\n      songs: []\n    });\n    this.setState({album_text:\"\",album_image:\"\"})\n    this.setState({ open: false });\n  }\n  else{\n    alert(\"cannot add\");\n  }\n  };\n  //get the file and store it in a base 64 format\n  getFile = e => {\n    const file = e.target.files[0];\n    getBase64(file).then(base64 => {\n      this.setState({ album_image: base64 });\n    });\n  };\n\n  componentWillReceiveProps() {\n    console.log(\" will receieve\");\n  }\n\n  componentWillUpdate() {\n    console.log(\"update\");\n  }\n\n  componentDidUpdate() {\n    console.log(\"did\");\n  }\n\n  componentWillMount() {\n    console.log(\"data\");\n  }\n  //function to delete the album\n  deleteAlbum = (e, index) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.state.data.splice(index, 1);\n    this.setState({\n      data: this.state.data\n    });\n  };\n  songClick = (e, index) => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(index, \"index\");\n    this.setState({ playSongIndex: index });\n    this.setState({ currentSong: this.state.queue[index] });\n  };\n\n  playNext = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    let previousId = this.state.playSongIndex - 1;\n    this.setState({ playSongIndex: previousId });\n    this.setState({ currentSong: this.state.queue[previousId] });\n  };\n\n  playPrevious = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    let nextId = this.state.playSongIndex + 1;\n    this.setState({ playSongIndex: nextId });\n    this.setState({ currentSong: this.state.queue[nextId] });\n  };\n\n  //add all the songs to the queue\n  addAllToQueue = () => {\n    const { data, queue, queue_name, artist_name } = this.state;\n    for (var i = 0; i < data.length; i++) {\n      for (var j = 0; j < data[i].songs.length; j++) {\n        if (data[i].songs[j].song) {\n          queue.push(data[i].songs[j].song);\n          queue_name.push(data[i].songs[j].song_name);\n          artist_name.push(data[i].songs[j].artist_name);\n        }\n      }\n    }\n    this.setState({ open: true });\n    this.setState({ open: false });\n  };\n\n  render() {\n    return (\n      <div className=\"album-wrapper Maindiv\">\n        <div className=\"Contentdiv\">\n          <div className=\"heading\">\n            <p> Your Albums </p>\n          </div>\n          <div className=\"add-album\">\n            <button className=\"add\" onClick={this.addAlbum}>\n              {\" \"}\n              Add new album{\" \"}\n            </button>\n            <button className=\"add\" onClick={this.addAllToQueue}>\n              Add all to queue\n            </button>\n          </div>\n          <Dialog\n            open={this.state.open}\n            onClose={this.handleClose}\n            className=\"form-dialog\"\n          >\n            <div className=\"form\">\n              <input\n                type=\"text\"\n                id=\"album_name\"\n                className=\"input\"\n                placeholder=\"Album Name\"\n                onChange={this.getName}\n              />{\" \"}\n              <br />\n              <p> Upload a cover image</p>\n              <input\n                type=\"file\"\n                name=\"pic\"\n                accept=\"image/*\"\n                className=\"input-file\"\n                onChange={this.getFile}\n                id=\"picture\"\n              />\n              <div className=\"button\">\n                <button className=\"add-album-button\" onClick={this.addToData}>\n                  {\" \"}\n                  Add{\" \"}\n                </button>\n              </div>\n            </div>\n          </Dialog>\n          <div className=\"album-container\">\n            {this.state.data &&\n              this.state.data.length > 0 &&\n              this.state.data.map((datum, index) => (\n                <div key={index}>\n                  <div\n                    className=\"album-detail-wrapper\"\n                    onClick={e => this.getDetail(e, index, datum.songs)}\n                  >\n                    <div\n                      className=\"album-image\"\n                      style={{\n                        backgroundImage: \"url(\" + datum.album_image + \")\"\n                      }}\n                    />\n                    <div className=\"album-name\"> {datum.album_name} </div>\n                    <div />\n                    <button onClick={e => this.deleteAlbum(e, index)}>\n                      {\" \"}\n                      Delete{\" \"}\n                    </button>\n                  </div>\n                </div>\n              ))}\n            <Dialog\n              open={this.state.modalOpen}\n              onClose={this.handleSecondClose}\n            >\n              <div className=\"content\">\n                <AlbumContent\n                  albumIndex={this.state.currentAlbumIndex}\n                  songs={this.state.currentSongList}\n                  data={this.state.data}\n                  queue={this.state.queue}\n                  contentModal={this.state.modalOpen}\n                  queueSongName={this.state.queue_name}\n                  artistName={this.state.artist_name}\n                />\n              </div>\n            </Dialog>\n          </div>\n        </div>\n        <div className=\"Queuediv\">\n          <p className=\"playListSongs\"> Your Playlist </p>\n          {this.state.data &&\n            this.state.queue_name.map((song, index) => (\n              <div\n                className=\"song-list\"\n                onClick={e => this.songClick(e, index)}\n              >\n                <QueueSong\n                  name={song}\n                  id={index}\n                  artist_name={this.state.artist_name[index]}\n                  playSong={this.state.queue[index]}\n                  allSongs={this.state.queue}\n                  allSongsName={this.state.queue_name}\n                />\n              </div>\n            ))}\n        </div>\n        <div className=\"audio-wrapper\">\n          <p>{this.state.queue_name[this.state.playSongIndex]}</p>\n          <i class=\"fas fa-backward\" onClick={e => this.playPrevious(e)} />\n          <audio\n            id=\"player\"\n            controls\n            autoPlay\n            preload=\"auto\"\n            key={this.state.currentSong}\n            src={this.state.currentSong}\n          >\n            <source id=\"source\" />\n          </audio>\n          <i class=\"fas fa-forward\" onClick={e => this.playNext(e)} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Album;\n"]},"metadata":{},"sourceType":"module"}